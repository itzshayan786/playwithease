<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PlayWithEase | Professional All-In-One Superstore</title>
    
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="antialiased">

    <div id="trailerModal" class="hidden fixed inset-0 z-modal bg-black/98 backdrop-blur-[60px] flex items-center justify-center p-4 md:p-24 opacity-0 transition-opacity duration-700">
        <div class="relative w-full max-w-[1400px] aspect-video bg-black rounded-[4rem] overflow-hidden border border-white/5 shadow-[0_0_200px_rgba(37,99,235,0.3)]">
            <button onclick="closeTrailer()" class="absolute top-8 right-8 z-[10001] w-16 h-16 bg-black/50 backdrop-blur-xl rounded-[1.5rem] text-white hover:bg-white hover:text-black transition-all flex items-center justify-center shadow-2xl">
                <i class="fa-solid fa-xmark text-4xl"></i>
            </button>
            <iframe id="ytFrame" class="w-full h-full relative" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
    </div>

    <div id="toastContainer" class="fixed top-24 left-1/2 -translate-x-1/2 z-[5000] pointer-events-none flex flex-col gap-3"></div>

    <div class="fixed inset-0 z-base opacity-20 pointer-events-none">
        <div class="absolute top-0 -left-1/4 w-1/2 h-1/2 bg-primary/20 blur-[160px] rounded-full"></div>
        <div class="absolute bottom-0 -right-1/4 w-1/2 h-1/2 bg-accent/20 blur-[160px] rounded-full"></div>
    </div>

    <div id="aiAssistant" class="fixed bottom-24 right-6 md:bottom-10 md:right-10 z-ai">
        <button onclick="toggleAI()" class="w-16 h-16 bg-primary rounded-[1.75rem] flex items-center justify-center text-white shadow-2xl ai-pulse border border-white/20 hover:scale-110 transition-all">
            <i class="fa-solid fa-brain text-2xl"></i>
        </button>
        <div id="aiBox" class="absolute bottom-24 right-0 w-[350px] bg-surface border border-white/10 rounded-[3rem] shadow-[0_40px_100px_rgba(0,0,0,1)] hidden overflow-hidden animate-fade-in">
            <div class="bg-gradient-to-r from-primary to-accent p-8 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse shadow-[0_0_10px_green]"></div>
                    <span class="font-black uppercase text-[10px] tracking-[0.3em] text-white">EaseAI Neural Link</span>
                </div>
                <button onclick="toggleAI()" class="text-white/60 hover:text-white"><i class="fa-solid fa-chevron-down"></i></button>
            </div>
            <div class="p-8 h-[400px] overflow-y-auto space-y-5 no-scrollbar text-xs leading-relaxed" id="aiChat">
                <div class="bg-white/5 p-4 rounded-2xl border border-white/5">System Initialized. I am EaseAI, your marketplace handler. How can I help you find digital or physical assets today?</div>
            </div>
            <div class="p-6 bg-black/40 border-t border-white/5 flex gap-3">
                <input type="text" id="aiInput" placeholder="Command AI..." class="w-full bg-[#050505] border border-white/10 rounded-2xl px-5 py-3.5 text-xs outline-none focus:border-primary text-white font-medium italic">
                <button onclick="sendAI()" class="bg-primary px-5 rounded-2xl text-white shadow-lg"><i class="fa-solid fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <nav class="fixed top-0 w-full z-nav glass-nav h-20 md:h-28">
        <div class="max-w-[1600px] mx-auto px-4 md:px-10 h-full flex items-center justify-between gap-10">
            
            <div class="flex items-center gap-6">
                <button id="mobileMenuBtn" class="md:hidden text-2xl text-white p-2" aria-label="Open Menu">
                    <i class="fa-solid fa-bars-staggered"></i>
                </button>
                <a href="#" class="flex items-center gap-4 group">
                    <div class="w-14 h-14 bg-primary rounded-3xl flex items-center justify-center text-white shadow-2xl italic font-black text-3xl transform group-hover:rotate-[15deg] transition-all duration-500 border border-white/10">P</div>
                    <div class="flex flex-col leading-none">
                        <span class="text-3xl font-black italic uppercase tracking-tighter text-white">PlayWithEase</span>
                        <span class="text-[10px] text-gray-500 font-black uppercase tracking-[0.4em] mt-2 pt-2 border-t border-white/5">The Super Marketplace</span>
                    </div>
                </a>
            </div>

            <div class="hidden md:flex flex-1 max-w-2xl relative">
                <i class="fa-solid fa-magnifying-glass absolute left-6 top-1/2 -translate-y-1/2 text-gray-600"></i>
                <input type="text" id="globalSearch" onkeyup="handleGlobalSearch()" placeholder="Search Products, Medicines, Subscriptions..." 
                    class="w-full bg-[#050505] border border-white/5 rounded-full py-5 pl-16 pr-8 text-sm text-white outline-none focus:border-primary focus:ring-[12px] focus:ring-primary/5 transition-all shadow-2xl tracking-wide font-medium">
            </div>

            <div class="flex items-center gap-3 md:gap-8">
                <button id="mobileSearchToggle" class="md:hidden p-3 text-gray-400 hover:text-white"><i class="fa-solid fa-magnifying-glass text-2xl"></i></button>
                
                <button onclick="toggleWishlistDrawer()" class="relative p-3.5 text-gray-500 hover:text-red-500 transition-all group hidden sm:block">
                    <i class="fa-regular fa-heart text-3xl group-hover:scale-110 transition-transform"></i>
                    <span id="wishCountBadge" class="absolute top-2 right-2 w-3 h-3 bg-red-600 rounded-full ring-4 ring-[#020202] hidden"></span>
                </button>

                <div id="authModule" class="flex items-center">
                    <button id="loginBtn" onclick="toggleAuthModal()" class="bg-white text-black px-10 py-3.5 rounded-[1.5rem] font-black text-xs uppercase btn-shine shadow-2xl tracking-widest hover:scale-105 transition-all">Sign In</button>
                    
                    <div id="userProfile" class="hidden relative group">
                        <button class="flex items-center gap-4 p-1.5 rounded-[1.5rem] border border-white/10 hover:bg-white/5 transition-all shadow-xl">
                            <img id="userAvatar" src="" class="w-12 h-12 rounded-2xl object-cover border border-white/10">
                            <div class="hidden lg:flex flex-col items-start pr-4 leading-none">
                                <span class="text-[9px] text-gray-500 font-black uppercase tracking-widest mb-1">Authenticated</span>
                                <span class="text-sm font-black text-white italic" id="userNameDisplay">COMMANDER</span>
                            </div>
                        </button>
                        <div class="absolute right-0 mt-6 w-72 bg-surface border border-white/10 rounded-[2.5rem] hidden group-hover:block p-4 shadow-[0_40px_100px_rgba(0,0,0,1)] animate-fade-in">
                            <div class="p-6 bg-gradient-to-br from-primary/10 to-transparent border border-white/5 rounded-3xl mb-4">
                                <p class="text-[9px] text-gray-500 font-black uppercase tracking-widest mb-2">Secure Identifier</p>
                                <p id="userEmailDisplay" class="text-xs font-black text-white truncate italic">user@playwithease.com</p>
                            </div>
                            <a href="#" class="flex items-center gap-4 p-4 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-2xl transition-all font-bold"><i class="fa-regular fa-id-badge text-primary"></i> Hub Settings</a>
                            <a href="#" class="flex items-center gap-4 p-4 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-2xl transition-all font-bold"><i class="fa-solid fa-box-archive text-primary"></i> Digital Keys</a>
                            <div class="h-px bg-white/5 my-3 mx-2"></div>
                            <button onclick="handleLogout()" class="w-full flex items-center gap-4 p-5 text-sm text-red-500 hover:bg-red-500/5 rounded-2xl font-black uppercase tracking-widest italic transition-all">
                                <i class="fa-solid fa-power-off"></i> Secure Logout
                            </button>
                        </div>
                    </div>
                </div>

                <button onclick="toggleCart()" class="relative p-3.5 text-gray-400 hover:text-primary transition-all group">
                    <i class="fa-solid fa-cart-shopping text-3xl group-hover:scale-110 transition-transform"></i>
                    <span id="cartBadge" class="absolute top-1.5 right-1.5 bg-primary text-white text-[10px] font-black w-6 h-6 rounded-full flex items-center justify-center border-4 border-[#020202] hidden shadow-xl animate-pulse">0</span>
                </button>
            </div>
        </div>
        
        <div id="mobileSearchBar" class="hidden md:hidden px-4 pb-6 animate-fade-in">
            <div class="relative">
                <i class="fa-solid fa-magnifying-glass absolute left-6 top-1/2 -translate-y-1/2 text-gray-500"></i>
                <input type="text" id="mobileSearchInput" placeholder="Quick Search Market..." 
                    class="w-full bg-[#111] border border-white/10 rounded-[1.5rem] py-5 pl-14 pr-6 text-sm text-white focus:outline-none focus:border-primary shadow-2xl">
            </div>
        </div>
    </nav>

    <div id="mobileMenu" class="fixed inset-0 z-[110] bg-black/95 backdrop-blur-[40px] transform translate-x-full transition-transform duration-500 pt-32 px-10 md:hidden">
        <div class="flex flex-col gap-8 text-2xl font-black italic tracking-tighter uppercase text-white">
            <a href="#" onclick="closeDrawers()" class="border-b border-white/10 pb-6 flex items-center justify-between">Deployment Home <i class="fa-solid fa-chevron-right text-xs opacity-30"></i></a>
            <a href="#gameSection" onclick="closeDrawers()" class="border-b border-white/10 pb-6 flex items-center justify-between text-primary">Games Hub <i class="fa-solid fa-chevron-right text-xs opacity-30"></i></a>
            <a href="#medSection" onclick="closeDrawers()" class="border-b border-white/10 pb-6 flex items-center justify-between text-green-500">Pharmacy Hub <i class="fa-solid fa-chevron-right text-xs opacity-30"></i></a>
            <a href="#giftSection" onclick="closeDrawers()" class="border-b border-white/10 pb-6 flex items-center justify-between text-gold">Gift Cards <i class="fa-solid fa-chevron-right text-xs opacity-30"></i></a>
            <a href="#ottSection" onclick="closeDrawers()" class="border-b border-white/10 pb-6 flex items-center justify-between text-purple-500">Subscriptions <i class="fa-solid fa-chevron-right text-xs opacity-30"></i></a>
        </div>
        <div class="mt-20">
            <p class="text-xs text-gray-600 font-black uppercase tracking-widest">Protocol v3.0 Enterprise</p>
        </div>
    </div>

    <header class="relative w-full h-[65vh] md:h-[95vh] mt-20 md:mt-24 overflow-hidden bg-black shadow-[0_50px_100px_rgba(0,0,0,1)]">
        <div class="slide active">
            <div class="absolute inset-0 bg-[url('https://www.rockstargames.com/VI/_next/image?url=%2FVI%2F_next%2Fstatic%2Fmedia%2FJason_and_Lucia_02_With_Logos_landscape.93ab5523.jpg&w=1366&q=75')] bg-cover bg-center ken-burns"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-bg via-bg/20 to-transparent"></div>
            
            <div class="absolute bottom-20 left-0 w-full p-6 md:p-24 z-10">
                <div class="flex items-center gap-4 mb-10 animate-fade-in">
                    <span class="px-6 py-2.5 bg-primary text-white text-[11px] font-black uppercase tracking-[0.3em] rounded-[1.25rem] shadow-[0_20px_40px_rgba(37,99,235,0.4)] border border-white/10">TOP RATED DEPLOYMENT</span>
                    <span class="px-6 py-2.5 bg-white/5 backdrop-blur-3xl border border-white/10 text-white text-[11px] font-bold uppercase tracking-widest rounded-[1.25rem]">Available 2025</span>
                </div>
                
                <h1 class="text-5xl md:text-[10rem] font-black italic tracking-[1.5rem] -ml-2 text-white uppercase mb-12 leading-[0.8] drop-shadow-[0_40px_80px_rgba(0,0,0,0.9)]">
                    GRAND THEFT <br> AUTO <span class="text-primary underline decoration-[20px] underline-offset-[25px] decoration-primary/50">VI</span>
                </h1>
                
                <p class="text-gray-300 max-w-2xl text-lg md:text-2xl mb-16 font-bold leading-relaxed drop-shadow-xl italic tracking-tight">
                    Return to the neon-soaked underworld of Vice City. Pre-order now to secure your Day One digital assets.
                </p>
                
                <div class="flex flex-wrap gap-6 animate-fade-in" style="animation-delay: 0.5s;">
                    <button onclick="playTrailer('QdBZY2fkU-0')" class="px-14 py-6 bg-white text-black rounded-[2rem] font-black text-sm tracking-widest uppercase btn-shine shadow-[0_0_80px_rgba(255,255,255,0.4)] flex items-center gap-4">
                        <i class="fa-solid fa-play-circle text-2xl"></i> PLAY TRAILER
                    </button>
                    <button onclick="addToCart('gta6')" class="px-14 py-6 bg-white/5 backdrop-blur-3xl border border-white/20 rounded-[2rem] font-black text-sm text-white uppercase hover:bg-white/10 transition-all tracking-[0.2em] italic">
                        RESERVE LICENSE ₹5,499
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="py-24 md:py-48 space-y-48">
        
        <section id="medSection" class="reveal px-4 md:px-10">
            <div class="flex flex-col md:flex-row md:items-center gap-6 mb-20 px-1">
                <div class="w-4 h-16 bg-green-500 rounded-full shadow-[0_0_50px_rgba(34,197,94,0.6)]"></div>
                <div>
                    <h2 class="text-4xl md:text-8xl font-black italic uppercase tracking-tighter text-white leading-none">Pharmacy <span class="text-green-500 italic">Vault</span></h2>
                    <p class="text-xs text-gray-600 font-black uppercase tracking-[0.5em] mt-4 flex items-center gap-3">
                        <span class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></span> 
                        GOVERNMENT CERTIFIED PHARMACEUTICALS
                    </p>
                </div>
            </div>
            
            <div class="product-grid">
                <div class="card-pro p-10 group card-med" data-sector="meds" data-title="paracetamol">
                    <div class="aspect-square bg-white/[0.03] rounded-[3rem] mb-10 flex items-center justify-center p-16 transition-all duration-700 group-hover:p-12 shadow-inner">
                        <img src="https://cdn-icons-png.flaticon.com/512/3024/3024509.png" class="w-full filter invert brightness-200 contrast-150 opacity-90 group-hover:rotate-12 transition-all duration-700 drop-shadow-[0_0_20px_rgba(255,255,255,0.2)]">
                    </div>
                    <div class="flex items-center gap-2 mb-3">
                        <span class="px-3 py-1 bg-green-500/10 text-green-500 text-[8px] font-black uppercase tracking-widest rounded-full border border-green-500/20">Certified</span>
                    </div>
                    <h3 class="font-black text-xl md:text-2xl uppercase italic tracking-tighter text-white mb-2 leading-tight">Paracetamol <br> IP 500mg</h3>
                    <p class="text-[10px] text-gray-500 font-black uppercase tracking-widest mb-10 italic">10 Tablet Strip • Fever Control</p>
                    <div class="flex items-center justify-between border-t border-white/5 pt-8">
                        <div class="flex flex-col">
                            <span class="text-[9px] text-gray-600 font-black uppercase">MRP</span>
                            <span class="text-3xl font-black text-green-500 italic tracking-tighter">₹45.00</span>
                        </div>
                        <button onclick="addToCart('para500')" class="w-16 h-16 rounded-3xl bg-primary flex items-center justify-center shadow-[0_20px_40px_rgba(37,99,235,0.4)] hover:rotate-90 hover:scale-110 transition-all text-white"><i class="fa-solid fa-plus text-xl"></i></button>
                    </div>
                </div>

                <div class="card-pro p-10 group card-med" data-sector="meds" data-title="vitaminc">
                    <div class="aspect-square bg-white/[0.03] rounded-[3rem] mb-10 flex items-center justify-center p-16 transition-all duration-700 group-hover:p-12 shadow-inner">
                        <img src="https://cdn-icons-png.flaticon.com/512/3024/3024608.png" class="w-full filter invert brightness-200">
                    </div>
                    <div class="flex items-center gap-2 mb-3">
                        <span class="px-3 py-1 bg-green-500/10 text-green-500 text-[8px] font-black uppercase tracking-widest rounded-full border border-green-500/20">Boost</span>
                    </div>
                    <h3 class="font-black text-xl md:text-2xl uppercase italic tracking-tighter text-white mb-2 leading-tight">Immuno-C <br> Zinc Plus</h3>
                    <p class="text-[10px] text-gray-500 font-black uppercase tracking-widest mb-10 italic">30 Capsules • Defense Hub</p>
                    <div class="flex items-center justify-between border-t border-white/5 pt-8">
                        <div class="flex flex-col">
                            <span class="text-[9px] text-gray-600 font-black uppercase">MRP</span>
                            <span class="text-3xl font-black text-green-500 italic tracking-tighter">₹185.00</span>
                        </div>
                        <button onclick="addToCart('vitc')" class="w-16 h-16 rounded-3xl bg-primary flex items-center justify-center shadow-xl hover:rotate-90 transition-all text-white"><i class="fa-solid fa-plus text-xl"></i></button>
                    </div>
                </div>

                <div class="card-pro p-10 group card-med" data-sector="meds" data-title="insulin">
                    <div class="aspect-square bg-white/[0.03] rounded-[3rem] mb-10 flex items-center justify-center p-16 transition-all duration-700 group-hover:p-12 shadow-inner">
                        <img src="https://cdn-icons-png.flaticon.com/512/3024/3024535.png" class="w-full filter invert brightness-200">
                    </div>
                    <div class="flex items-center gap-2 mb-3">
                        <span class="px-3 py-1 bg-red-500/10 text-red-500 text-[8px] font-black uppercase tracking-widest rounded-full border border-red-500/20">Critical</span>
                    </div>
                    <h3 class="font-black text-xl md:text-2xl uppercase italic tracking-tighter text-white mb-2 leading-tight">Insulin <br> Rapid-Pen</h3>
                    <p class="text-[10px] text-gray-500 font-black uppercase tracking-widest mb-10 italic">3ml Disposable • Cold Chain</p>
                    <div class="flex items-center justify-between border-t border-white/5 pt-8">
                        <div class="flex flex-col">
                            <span class="text-[9px] text-gray-600 font-black uppercase">MRP</span>
                            <span class="text-3xl font-black text-green-500 italic tracking-tighter">₹2,499</span>
                        </div>
                        <button onclick="addToCart('insulin')" class="w-16 h-16 rounded-3xl bg-primary flex items-center justify-center shadow-xl hover:rotate-90 transition-all text-white"><i class="fa-solid fa-plus text-xl"></i></button>
                    </div>
                </div>

                <div class="card-pro p-10 group card-med" data-sector="meds" data-title="omeprazole">
                    <div class="aspect-square bg-white/[0.03] rounded-[3rem] mb-10 flex items-center justify-center p-16 transition-all duration-700 group-hover:p-12 shadow-inner">
                        <img src="https://cdn-icons-png.flaticon.com/512/3024/3024564.png" class="w-full filter invert brightness-200">
                    </div>
                    <div class="flex items-center gap-2 mb-3">
                        <span class="px-3 py-1 bg-green-500/10 text-green-500 text-[8px] font-black uppercase tracking-widest rounded-full border border-green-500/20">Gastro</span>
                    </div>
                    <h3 class="font-black text-xl md:text-2xl uppercase italic tracking-tighter text-white mb-2 leading-tight">Omeprazole <br> DR 20mg</h3>
                    <p class="text-[10px] text-gray-500 font-black uppercase tracking-widest mb-10 italic">20 Delayed Release Tabs</p>
                    <div class="flex items-center justify-between border-t border-white/5 pt-8">
                        <div class="flex flex-col">
                            <span class="text-[9px] text-gray-600 font-black uppercase">MRP</span>
                            <span class="text-3xl font-black text-green-500 italic tracking-tighter">₹95.00</span>
                        </div>
                        <button onclick="addToCart('omep')" class="w-14 h-14 rounded-2xl bg-primary flex items-center justify-center shadow-xl text-white"><i class="fa-solid fa-plus"></i></button>
                    </div>
                </div>
            </div>
        </section>

        <section id="ps5disc" class="reveal px-4 md:px-10">
            <div class="flex items-center gap-5 mb-16">
                <div class="w-4 h-16 bg-primary rounded-full shadow-[0_0_50px_rgba(37,99,235,0.6)]"></div>
                <h2 class="text-3xl md:text-8xl font-black italic uppercase tracking-tighter text-white leading-none">Console <span class="text-primary italic">Media</span></h2>
            </div>
            
            <div class="flex gap-8 overflow-x-auto no-scrollbar snap-x pb-12 px-1 md:grid md:grid-cols-4 lg:grid-cols-5">
                
                <div class="card-pro overflow-hidden shrink-0 w-[260px] md:w-full group">
                    <div class="aspect-[3/4] relative overflow-hidden">
                        <img src="https://m.media-amazon.com/images/I/81q6x-eE0AL._AC_SL1500_.jpg" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"></div>
                        <div class="absolute top-6 left-6 bg-white text-black text-[10px] font-black px-5 py-2 rounded-full italic shadow-2xl">HARD-COPY DISC</div>
                    </div>
                    <div class="p-10">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="font-black text-white text-2xl italic uppercase tracking-tighter leading-none">Spider-Man 2</h3>
                            <button onclick="toggleWishlist('sp2disc')" class="text-white/20 hover:text-red-500 transition-all"><i class="fa-solid fa-heart text-2xl"></i></button>
                        </div>
                        <p class="text-[10px] text-gray-600 font-black uppercase mb-10 tracking-widest leading-none">Sony Interactive • PS5 Boxed</p>
                        <div class="flex items-center justify-between">
                            <span class="text-4xl font-black text-primary italic tracking-tighter italic">₹4,499</span>
                            <button onclick="addToCart('sp2disc')" class="px-8 py-4 bg-primary rounded-[1.5rem] font-black text-xs uppercase shadow-2xl hover:bg-blue-600 transition-all text-white italic btn-shine">GET DISC</button>
                        </div>
                    </div>
                </div>

                <div class="card-pro overflow-hidden shrink-0 w-[260px] md:w-full group">
                    <div class="aspect-[3/4] relative overflow-hidden">
                        <img src="https://m.media-amazon.com/images/I/81f-9rWe5AL._AC_SL1500_.jpg" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110">
                        <div class="absolute top-6 left-6 bg-white text-black text-[10px] font-black px-5 py-2 rounded-full italic shadow-2xl">HARD-COPY DISC</div>
                    </div>
                    <div class="p-10">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="font-black text-white text-2xl italic uppercase tracking-tighter leading-none">Ragnarok</h3>
                            <button onclick="toggleWishlist('gowdisc')" class="text-white/20 hover:text-red-500 transition-all"><i class="fa-solid fa-heart text-2xl"></i></button>
                        </div>
                        <p class="text-[10px] text-gray-600 font-black uppercase mb-10 tracking-widest italic">Santa Monica • PS5 Disc</p>
                        <div class="flex items-center justify-between">
                            <span class="text-4xl font-black text-primary italic tracking-tighter">₹3,999</span>
                            <button onclick="addToCart('gowdisc')" class="px-8 py-4 bg-primary rounded-[1.5rem] font-black text-xs uppercase shadow-2xl hover:bg-blue-600 transition-all text-white btn-shine">GET DISC</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="giftSection" class="reveal px-4 md:px-10">
            <div class="flex items-center gap-5 mb-20 px-1">
                <div class="w-4 h-16 bg-gold rounded-full shadow-[0_0_50px_rgba(251,191,36,0.6)]"></div>
                <h2 class="text-4xl md:text-8xl font-black italic uppercase tracking-tighter text-white leading-none">Luxury <span class="text-gold italic">Credits</span></h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
                <div class="card-pro overflow-hidden group cursor-pointer border border-white/5 glow-yellow rounded-[4rem]">
                    <div class="h-64 bg-[#e50914] flex items-center justify-center p-20 transition-all duration-1000 group-hover:p-16">
                        <img src="https://upload.wikimedia.org/wikipedia/en/a/a2/BookMyShow_logo.png" class="h-16 object-contain drop-shadow-[0_40px_80px_rgba(0,0,0,0.5)] brightness-125">
                    </div>
                    <div class="p-12 bg-black/95 flex justify-between items-center text-white border-t border-white/10">
                        <div>
                            <p class="text-[11px] text-gray-500 font-black uppercase tracking-[0.3em] mb-2 italic">Entertainment Portal</p>
                            <p class="font-black text-4xl italic tracking-tighter text-primary">₹500.00</p>
                        </div>
                        <button onclick="addToCart('bms')" class="px-12 py-5 bg-primary rounded-[2rem] font-black text-xs uppercase shadow-2xl btn-titan italic tracking-widest">DEPLOY</button>
                    </div>
                </div>

                <div class="card-pro overflow-hidden group cursor-pointer border border-white/5 glow-yellow rounded-[4rem]">
                    <div class="h-64 bg-white flex items-center justify-center p-20 transition-all duration-1000 group-hover:p-16">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" class="h-14 object-contain">
                    </div>
                    <div class="p-12 bg-black/95 flex justify-between items-center text-white border-t border-white/10">
                        <div>
                            <p class="text-[11px] text-gray-500 font-black uppercase tracking-[0.3em] mb-2 italic">Retail Asset</p>
                            <p class="font-black text-4xl italic tracking-tighter text-primary">₹1,000</p>
                        </div>
                        <button onclick="addToCart('amz')" class="px-12 py-5 bg-primary rounded-[2rem] font-black text-xs uppercase shadow-2xl btn-titan italic tracking-widest">DEPLOY</button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="border-t border-white/5 bg-[#080808] pt-32 pb-44 md:pb-20 mt-auto relative z-nav w-full overflow-hidden">
        <div class="max-w-[1600px] mx-auto px-4 md:px-10">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-20 mb-28">
                
                <div class="md:col-span-5 space-y-12">
                    <a href="#" class="flex items-center gap-4">
                        <div class="w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-[1.5rem] flex items-center justify-center text-white font-black text-3xl shadow-2xl border border-white/10">P</div>
                        <span class="text-4xl font-black text-white tracking-tighter italic uppercase">PlayWithEase</span>
                    </a>
                    <p class="text-gray-500 text-lg leading-[2] max-w-md font-medium italic">The world's premier encrypted digital storefront. Authorized delivery of gaming licenses, physical media, and health essentials since 2012.</p>
                    <div class="flex gap-8">
                        <a href="#" class="text-gray-600 hover:text-white transition-all text-3xl"><i class="fa-brands fa-x-twitter"></i></a>
                        <a href="#" class="text-gray-600 hover:text-white transition-all text-3xl"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#" class="text-gray-600 hover:text-white transition-all text-3xl"><i class="fa-brands fa-discord"></i></a>
                        <a href="#" class="text-gray-600 hover:text-white transition-all text-3xl"><i class="fa-brands fa-github"></i></a>
                    </div>
                </div>

                <div class="md:col-span-7 bg-[#0c0c0c] rounded-[4rem] p-12 md:p-20 border border-white/5 shadow-2xl relative overflow-hidden group">
                    <div class="absolute top-0 right-0 w-80 h-80 bg-primary/5 blur-[120px] group-hover:bg-primary/15 transition-all duration-1000"></div>
                    <div class="relative z-10">
                        <h4 class="font-black text-white text-4xl italic tracking-tighter mb-6 uppercase">Sync with the Hub</h4>
                        <p class="text-gray-500 font-bold uppercase text-[10px] tracking-[0.5em] mb-12 italic leading-relaxed">Join 750,000+ Verified members receiving <br> exclusive asset drops every Sunday.</p>
                        <div class="flex flex-col sm:flex-row gap-6 max-w-xl">
                            <input type="email" placeholder="SECURE ENCRYPTED EMAIL" class="bg-black border border-white/10 rounded-[2.25rem] px-10 py-6 text-xs w-full focus:border-primary outline-none text-white font-black tracking-widest shadow-inner">
                            <button class="bg-white text-black px-14 py-6 rounded-[2.25rem] font-black text-xs tracking-[0.4em] uppercase hover:bg-primary hover:text-white transition-all shadow-white/10 shadow-2xl">ENGAGE</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="border-t border-white/5 pt-16 flex flex-col md:flex-row justify-between items-center gap-10">
                <div class="flex flex-col items-center md:items-start gap-4">
                    <p class="text-[10px] text-gray-700 font-black tracking-[0.5em] uppercase leading-relaxed">&copy; 2026 PLAYWITHEASE MULTIVERSE INC. ALL DATA ENCRYPTED AES-256.</p>
                    <div class="flex gap-6 text-[9px] text-gray-800 font-black uppercase tracking-widest">
                        <a href="#" class="hover:text-primary transition-colors">Privacy Policy</a>
                        <a href="#" class="hover:text-primary transition-colors">Service Status</a>
                        <a href="#" class="hover:text-primary transition-colors">Legal Hub</a>
                    </div>
                </div>
                <div class="flex items-center gap-12 opacity-30 grayscale transition-all duration-1000 hover:grayscale-0 cursor-default">
                    <i class="fa-brands fa-cc-visa text-5xl"></i>
                    <i class="fa-brands fa-cc-mastercard text-5xl"></i>
                    <i class="fa-brands fa-google-pay text-7xl"></i>
                    <i class="fa-brands fa-apple-pay text-7xl"></i>
                    <i class="fa-brands fa-bitcoin text-4xl"></i>
                </div>
            </div>
        </div>
    </footer>

    <div id="authModal" class="hidden fixed inset-0 z-modal flex items-center justify-center p-4">
        <div onclick="toggleAuthModal()" class="absolute inset-0 bg-black/95 backdrop-blur-[50px]"></div>
        <div class="relative w-full max-w-md bg-surface border border-white/10 rounded-[4.5rem] p-12 md:p-16 shadow-[0_0_150px_rgba(0,0,0,1)] animate-fade-in text-white border-t-primary/40">
            <div class="flex border-b border-white/5 mb-14">
                <button id="tabLogin" onclick="switchTab('login')" class="flex-1 pb-8 text-center text-white border-b-4 border-primary font-black uppercase tracking-[0.3em] text-sm italic transition-all">DECRYPT</button>
                <button id="tabRegister" onclick="switchTab('register')" class="flex-1 pb-8 text-center text-gray-700 hover:text-white font-black uppercase tracking-[0.3em] text-sm italic transition-all">REGISTER</button>
            </div>
            <form id="authForm" onsubmit="handleAuth(event)" class="space-y-10">
                <div class="space-y-3">
                    <label class="text-[10px] font-black text-gray-700 uppercase ml-4 tracking-[0.3em]">Authorized Email</label>
                    <input type="email" id="email" required placeholder="USER@PLAYWITHEASE.COM" class="w-full bg-[#030303] border border-white/5 rounded-[2rem] px-8 py-6 text-xs font-black uppercase tracking-widest outline-none focus:border-primary transition-all shadow-inner text-white">
                </div>
                <div class="space-y-3">
                    <label class="text-[10px] font-black text-gray-700 uppercase ml-4 tracking-[0.3em]">Encrypted Password</label>
                    <input type="password" id="password" required placeholder="••••••••••••" class="w-full bg-[#030303] border border-white/5 rounded-[2rem] px-8 py-6 text-xs font-black uppercase tracking-widest outline-none focus:border-primary transition-all shadow-inner text-white">
                </div>
                <div id="regNameGroup" class="hidden space-y-3 animate-fade-in">
                    <label class="text-[10px] font-black text-gray-700 uppercase ml-4 tracking-[0.3em]">Alias Identity</label>
                    <input type="text" id="fullName" placeholder="COMMANDER NAME" class="w-full bg-[#030303] border border-white/5 rounded-[2rem] px-8 py-6 text-xs font-black uppercase text-white outline-none italic tracking-widest">
                </div>
                <button type="submit" id="submitBtn" class="w-full bg-white text-black font-black py-7 rounded-[2.5rem] hover:scale-[0.98] transition-all text-xs tracking-[0.5em] uppercase italic shadow-2xl shadow-white/5">AUTHENTICATE HUB</button>
            </form>
            <p id="authError" class="text-red-500 text-[10px] text-center mt-12 hidden font-black uppercase italic tracking-[0.2em] animate-pulse border-t border-red-500/10 pt-8"></p>
        </div>
    </div>

    <div id="cartDrawer" class="fixed top-0 right-0 w-full max-w-[520px] h-full bg-[#010101] z-drawer transform translate-x-full border-l border-white/5 shadow-[0_0_150px_rgba(0,0,0,1)] flex flex-col transition-transform duration-800">
        <div class="p-12 border-b border-white/5 flex justify-between items-center text-white bg-gradient-to-r from-black to-[#050505]">
            <h2 class="text-4xl font-black tracking-tighter uppercase italic tracking-tighter">Inventory Hub</h2>
            <button onclick="closeDrawers()" class="w-16 h-16 rounded-[2rem] bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-500 hover:text-white transition-all shadow-xl"><i class="fa-solid fa-xmark text-3xl"></i></button>
        </div>
        <div id="cartItems" class="flex-1 overflow-y-auto p-12 space-y-12 no-scrollbar scroll-smooth">
            </div>
        <div class="p-12 border-t border-white/5 bg-[#030303] space-y-12 text-white">
            <div class="flex justify-between items-end pb-4 border-b border-white/5 pb-8">
                <div class="flex flex-col gap-2">
                    <span class="text-gray-700 font-black uppercase text-[11px] tracking-[0.5em] italic">Net Payable Assets</span>
                    <span class="text-[9px] text-primary font-black uppercase tracking-widest italic">Encrypted Secure Portal</span>
                </div>
                <span id="cartTotal" class="text-7xl font-black tracking-tighter italic text-primary drop-shadow-[0_0_30px_rgba(37,99,235,0.4)]">₹0</span>
            </div>
            <button onclick="location.href='checkout.html'" class="w-full bg-primary hover:bg-blue-600 text-white font-black py-8 rounded-[3rem] shadow-2xl shadow-primary/40 transition-all flex items-center justify-center gap-6 text-2xl btn-titan uppercase tracking-[0.3em] italic">AUTHORIZE PAYMENT <i class="fa-solid fa-shield-check text-3xl"></i></button>
        </div>
    </div>

    <script>
        // MASTER ASSET REGISTRY (SYNCED WITH HARD-CODED IDs)
        const products = {
            gta6: { title: "Grand Theft Auto VI", price: 5499, img: "https://upload.wikimedia.org/wikipedia/en/a/a5/Grand_Theft_Auto_VI.png" },
            fh6: { title: "Forza Horizon 6", price: 4999, img: "https://static.wikia.nocookie.net/forzamotorsport/images/3/33/FH6_Boxart.jpg" },
            sp2disc: { title: "Spider-Man 2 Disc", price: 4499, img: "https://m.media-amazon.com/images/I/81q6x-eE0AL._AC_SL1500_.jpg" },
            gowdisc: { title: "GoW Ragnarok Disc", price: 3999, img: "https://m.media-amazon.com/images/I/81f-9rWe5AL._AC_SL1500_.jpg" },
            eldendisc: { title: "Elden Ring Disc", price: 3499, img: "https://m.media-amazon.com/images/I/812C2R-P+6L._AC_SL1500_.jpg" },
            para500: { title: "Paracetamol 500mg", price: 45, img: "https://cdn-icons-png.flaticon.com/512/3024/3024509.png" },
            vitc: { title: "Immuno-C Zinc", price: 185, img: "https://cdn-icons-png.flaticon.com/512/3024/3024608.png" },
            insulin: { title: "Insulin Rapid-Pen", price: 2499, img: "https://cdn-icons-png.flaticon.com/512/3024/3024535.png" },
            omep: { title: "Omeprazole Gastro", price: 95, img: "https://cdn-icons-png.flaticon.com/512/3024/3024564.png" },
            bms: { title: "BookMyShow GC", price: 500, img: "https://upload.wikimedia.org/wikipedia/en/a/a2/BookMyShow_logo.png" },
            amz: { title: "Amazon Retail GC", price: 1000, img: "https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" },
            nf: { title: "Netflix Premium", price: 649, img: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/800px-Netflix_2015_logo.svg.png" },
            pr: { title: "Amazon Prime Annual", price: 1499, img: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Amazon_Prime_Video_logo.svg/800px-Amazon_Prime_Video_logo.svg.png" },
            hs: { title: "Hotstar Super", price: 899, img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Disney%2B_logo.svg/800px-Disney%2B_logo.svg.png" },
            sp: { title: "Spotify Plan", price: 119, img: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Spotify_logo_with_text.svg/800px-Spotify_logo_with_text.svg.png" }
        };

        let cart = JSON.parse(localStorage.getItem('pwe_cart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('pwe_wishlist')) || [];
        
        // ADD TO CART UNIT
        window.addToCart = (id) => {
            const product = products[id];
            if(!product) { console.error(`ID ${id} NOT FOUND IN REGISTRY`); return; }
            const ex = cart.find(i => i.id === id);
            if(ex) ex.qty++; else cart.push({id, qty:1});
            syncUI(); 
            showToast(`UNIT ACQUIRED: ${product.title}`); 
            toggleCart();
        };

        // UI SYNCHRONIZATION UNIT
        function syncUI() {
            localStorage.setItem('pwe_cart', JSON.stringify(cart));
            localStorage.setItem('pwe_wishlist', JSON.stringify(wishlist));
            const count = cart.reduce((a,b) => a+b.qty, 0);
            const totalVal = cart.reduce((a,b) => a + (products[b.id].price * b.qty), 0);
            
            ['cartBadge','mobileCartBadge'].forEach(id => {
                const el = document.getElementById(id);
                if(el) { el.innerText = count; el.classList.toggle('hidden', count === 0); }
            });
            document.getElementById('wishCountBadge').classList.toggle('hidden', wishlist.length === 0);
            document.getElementById('cartTotal').innerText = `₹${totalVal.toLocaleString()}`;
            
            const container = document.getElementById('cartItems');
            if(cart.length === 0) {
                container.innerHTML = `<div class="flex flex-col items-center justify-center h-full text-gray-800 opacity-20 py-40"><i class="fa-solid fa-shopping-bag text-[140px] mb-10"></i><p class="font-black uppercase tracking-[0.5em] text-sm italic">Inventory Offline</p></div>`;
            } else {
                container.innerHTML = cart.map(i => `
                    <div class="flex gap-8 bg-white/[0.04] p-10 rounded-[3.5rem] border border-white/5 items-center animate-fade-in group hover:bg-white/[0.06] transition-all">
                        <img src="${products[i.id].img}" class="w-28 h-28 object-contain shadow-2xl bg-black rounded-[2rem] group-hover:scale-110 transition-all duration-700">
                        <div class="flex-1 min-w-0 text-white self-center">
                            <p class="font-black text-xl truncate uppercase italic tracking-tighter mb-2 leading-none">${products[i.id].title}</p>
                            <p class="text-primary font-black text-lg italic tracking-tight">₹${products[i.id].price.toLocaleString()}</p>
                            <div class="flex items-center gap-8 mt-8">
                                <div class="flex items-center bg-black rounded-2xl px-6 py-3 gap-8 border border-white/5 shadow-inner">
                                    <button onclick="updateQty('${i.id}', -1)" class="text-gray-500 hover:text-white transition-all"><i class="fa-solid fa-minus text-sm"></i></button>
                                    <span class="text-base font-black text-white font-mono">${i.qty}</span>
                                    <button onclick="updateQty('${i.id}', 1)" class="text-gray-500 hover:text-white transition-all"><i class="fa-solid fa-plus text-sm"></i></button>
                                </div>
                                <button onclick="removeFromCart('${i.id}')" class="text-[10px] font-black text-red-500/40 hover:text-red-500 uppercase tracking-widest transition-all italic">Discard Asset</button>
                            </div>
                        </div>
                    </div>`).join('');
            }
        }

        window.updateQty = (id, change) => {
            const item = cart.find(i => i.id === id);
            if(item) { item.qty += change; if(item.qty <= 0) cart = cart.filter(i => i.id !== id); syncUI(); }
        };

        window.removeFromCart = (id) => {
            cart = cart.filter(i => i.id !== id);
            syncUI();
            showToast("ASSET DE-LISTED");
        };

        // UI SYSTEM PORTALS
        window.toggleCart = () => { closeDrawers(); document.getElementById('cartDrawer').classList.remove('translate-x-full'); document.getElementById('cartOverlay').classList.remove('hidden'); setTimeout(()=>document.getElementById('cartOverlay').classList.remove('opacity-0'),10); };
        window.toggleWishlistDrawer = () => { showToast("VAULT UNDER MAINTENANCE"); };
        window.closeDrawers = () => { ['cartDrawer','authModal','mobileMenu'].forEach(id => {const el=document.getElementById(id); if(el) el.classList.add('translate-x-full');}); document.getElementById('cartOverlay').classList.add('hidden'); document.getElementById('cartOverlay').classList.add('opacity-0'); };
        
        // CINEMA SYSTEM (FIXED)
        window.playTrailer = (id) => { 
            const m = document.getElementById('trailerModal'); 
            m.classList.remove('hidden'); 
            setTimeout(()=>m.classList.remove('opacity-0'),10); 
            document.getElementById('ytFrame').src=`https://www.youtube.com/embed/${id}?autoplay=1&rel=0&modestbranding=1&controls=1`; 
        };
        window.closeTrailer = () => { 
            const m = document.getElementById('trailerModal'); 
            m.classList.add('opacity-0'); 
            setTimeout(()=>{m.classList.add('hidden'); document.getElementById('ytFrame').src='';}, 800); 
        };

        // NOTIFICATION ENGINE
        function showToast(m) { const t = document.createElement('div'); t.className="bg-primary/95 backdrop-blur-[40px] text-white px-14 py-7 rounded-[3rem] text-[11px] font-black tracking-[0.5em] uppercase animate-fade-in shadow-[0_40px_100px_rgba(0,0,0,1)] border border-white/20 italic flex items-center gap-6"; t.innerHTML = `<i class="fa-solid fa-bolt-lightning text-gold text-2xl animate-pulse"></i> ${m}`; document.getElementById('toastContainer').appendChild(t); setTimeout(()=> { t.style.opacity='0'; t.style.transform='translateY(-30px)'; setTimeout(()=>t.remove(),800); }, 3500); }
        
        window.toggleAI = () => document.getElementById('aiBox').classList.toggle('hidden');
        window.toggleAuthModal = () => { document.getElementById('authModal').classList.toggle('hidden'); closeDrawers(); };

        // SEARCH & FILTER
        window.handleGlobalSearch = () => {
            const query = (document.getElementById('globalSearch').value || document.getElementById('mobileSearchInput').value).toLowerCase();
            const items = document.querySelectorAll('.card-pro, .game-card');
            let found = 0;
            items.forEach(i => {
                if(i.textContent.toLowerCase().includes(query)) { i.style.display = 'block'; found++; }
                else i.style.display = 'none';
            });
            document.getElementById('resultCount').innerText = query ? `${found} Units Located` : 'Verified Instant Global Delivery';
        };

        window.filterItems = (cat) => {
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            const sectors = { games: 'gameSection', meds: 'medSection', ps5disc: 'ps5disc', gift: 'gift', ott: 'ott' };
            
            if(cat === 'all') {
                Object.values(sectors).forEach(s => { const el = document.getElementById(s); if(el) el.classList.remove('hidden'); });
            } else {
                Object.entries(sectors).forEach(([key, val]) => {
                    const el = document.getElementById(val);
                    if(el) { if(key === cat) { el.classList.remove('hidden'); el.scrollIntoView({behavior:'smooth', block:'center'}); } else { el.classList.add('hidden'); } }
                });
            }
        };

        // REVEAL SYSTEM
        window.onload = () => { 
            syncUI();
            const observer = new IntersectionObserver((es) => { es.forEach(e => { if(e.isIntersecting) e.target.classList.add('active'); }); }, { threshold: 0.1 }); 
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        };

        // MOBILE SEARCH TOGGLE
        document.getElementById('mobileSearchToggle').addEventListener('click', () => document.getElementById('mobileSearchBar').classList.toggle('hidden'));
        document.getElementById('mobileMenuBtn').addEventListener('click', () => document.getElementById('mobileMenu').classList.toggle('translate-x-full'));

        // AI ENGINE
        window.sendAI = () => {
            const input = document.getElementById('aiInput');
            if(!input.value) return;
            const chat = document.getElementById('aiChat');
            const msg = document.createElement('div');
            msg.className = "bg-primary/20 p-5 rounded-3xl text-white ml-auto w-fit max-w-[85%] font-bold italic";
            msg.innerText = input.value;
            chat.appendChild(msg);
            input.value = "";
            setTimeout(() => {
                const rep = document.createElement('div');
                rep.className = "bg-white/5 p-5 rounded-3xl text-gray-400 mr-auto w-fit max-w-[85%] border border-white/5";
                rep.innerText = "Analyzing secure marketplace channels for your requested assets... Request logged.";
                chat.appendChild(rep);
                chat.scrollTop = chat.scrollHeight;
            }, 1200);
        };
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        
        const fbConfig = { apiKey: "AIzaSyAxuYwom2tuGTz3Nsi-6ndYSwK7BkEJIVs", authDomain: "playwithease.firebaseapp.com", projectId: "playwithease", storageBucket: "playwithease.appspot.com", messagingSenderId: "189729941006", appId: "1:189729941006:web:362653774b92416c357e5f" };
        const app = initializeApp(fbConfig);
        const auth = getAuth(app);
        
        // ABSOLUTE PERSISTENCE OBSERVER
        onAuthStateChanged(auth, (user) => {
            const lBtn = document.getElementById('loginBtn');
            const hub = document.getElementById('userProfile');
            const av = document.getElementById('userAvatar');
            const name = document.getElementById('userNameDisplay');
            const mail = document.getElementById('userEmailDisplay');

            if (user) {
                lBtn.style.display = 'none';
                hub.classList.remove('hidden');
                av.src = `https://ui-avatars.com/api/?name=${user.displayName || 'G'}&background=2563eb&color=fff&bold=true&size=128`;
                name.innerText = (user.displayName || user.email.split('@')[0]).toUpperCase();
                mail.innerText = user.email.toLowerCase();
                document.getElementById('authModal').classList.add('hidden');
            } else {
                lBtn.style.display = 'block';
                hub.classList.add('hidden');
            }
        });

        window.switchTab = (m) => {
            const isL = m === 'login';
            document.getElementById('tabLogin').className = isL ? "flex-1 pb-6 text-center text-white border-b-4 border-primary font-black uppercase tracking-widest italic" : "flex-1 pb-6 text-center text-gray-700 font-black";
            document.getElementById('tabRegister').className = !isL ? "flex-1 pb-6 text-center text-white border-b-4 border-primary font-black uppercase tracking-widest italic" : "flex-1 pb-6 text-center text-gray-700 font-black";
            document.getElementById('regNameGroup').classList.toggle('hidden', isL);
            document.getElementById('submitBtn').innerText = isL ? "AUTHORIZE DECRYPTION" : "CREATE NEW IDENTITY";
        };

        window.handleAuth = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const err = document.getElementById('authError');
            btn.disabled = true; btn.innerText = "OPENING SECURE CHANNEL...";
            try {
                if(btn.innerText.includes('DECRYPTION')) {
                    await signInWithEmailAndPassword(auth, document.getElementById('email').value, document.getElementById('password').value);
                } else {
                    const c = await createUserWithEmailAndPassword(auth, document.getElementById('email').value, document.getElementById('password').value);
                    await updateProfile(c.user, { displayName: document.getElementById('fullName').value });
                }
                location.reload();
            } catch (e) {
                err.innerText = "ACCESS DENIED: SECURE CHANNEL FAILED";
                err.classList.remove('hidden'); btn.disabled = false; btn.innerText = "RE-ATTEMPT";
            }
        };

        window.handleLogout = () => { signOut(auth).then(() => location.reload()); };
    </script>
</body>
</html>
